/* LFInteractive LLC. All Rights Reserved */
async function Print(r){let e=window.open(`/panel/itemized.php?id=${r}&print`,"PRINT","width=1280,height=720");e.document.close(),e.onload=()=>{e.focus(),e.print(),e.close()}}async function Pay(r,e,o,t){let n={card:e,card_exp:t,card_cvc:o};return console.log(n),new Promise((e,o)=>{$.ajax({type:"POST",url:`/assets/php/includes/payments.inc.php?id=${r}`,data:n,success:r=>{try{let o=JSON.parse(r);e(o)}catch{o({error:"Unable to parse output as JSON!",output:r})}},error:(r,e,t)=>{o({error:"Unexpected error has occurred!",output:t,status:e,xhr:r})}})})}const error=$("p.error");$("#pay-btn").on("click",()=>{error.css("opacity","0");const r=$("input#ccnumber").val(),e=$("input#cvv2").val(),o=$("input#exp").val();Pay(id,r,e,o).then(r=>{admin?window.location.href="/panel":window.location.href=`/order-complete.php?id=${id}&show-print`}).catch(r=>{error.css("opacity","1"),error.html("Unable to process payment information. Please check your payment information and try again."),console.error(r)})});