/* LFInteractive LLC. All Rights Reserved */
function InitStartTimeSelector(){const e=currentOptions.cabin.name,t=new Date,a=new Date;a.setDate(t.getDate()+4);const n=new Date;n.setFullYear(t.getFullYear()+10);const r=`/assets/php/includes/bookings.inc.php?c=unavailable&cabin=${encodeURIComponent(e)}`;$.get(r,{format:"json"}).done((function(e){unavailableDates=e||[];const t=a.getFullYear(),r=a.getMonth()+1;createCalendar("start",t,r,a,n,unavailableDates,0,currentOptions.arrival)})).fail((function(){console.error("Failed to fetch unavailable dates.")})),$("#calendar-start").on("change",e=>{currentOptions.arrival=new Date($(e.target).attr("date")),currentOptions.arrival.setDate(currentOptions.arrival.getDate()+1),enableNextButton()})}function InitEndTimeSelector(){const e=new Date,t=new Date($("#calendar-start").attr("date"));t.setDate(t.getDate()+1);var a=new Date;if(a.setFullYear(e.getFullYear()+6),unavailableDates!=[])for(let e=0;e<unavailableDates.length;e++){let n=new Date(unavailableDates[e]);if(n>t){(a=n).setDate(n.getDate()-1);break}}const n=t.getFullYear(),r=t.getMonth()+1;createCalendar("end",n,r,t,a,unavailableDates,0,currentOptions.departure),$("#calendar-end").on("change",e=>{currentOptions.departure=new Date($(e.target).attr("date")),currentOptions.departure.setDate(currentOptions.departure.getDate()+1),enableNextButton()})}var unavailableDates=[];